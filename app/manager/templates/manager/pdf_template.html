<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; }
        .report-title { font-size: 18px; font-weight: bold; margin-bottom: 20px; }
        .section-title { font-size: 14px; font-weight: bold; margin-top: 20px; }
        .data-row { margin-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; }
        table, th, td { border: 1px solid black; }
        th, td { padding: 8px; text-align: left; }
    </style>
</head>
<body>
    <div class="report-title">Savings Report for {{ month }}/{{ year }}</div>
    
    <div class="section-title">Personal Information</div>
    <div class="data-row"><strong>Name:</strong> {{ person.first_name }} {{ person.last_name }}</div>
    <div class="data-row"><strong>Email:</strong> {{ person.email }}</div>
    <div class="data-row"><strong>Date of Birth:</strong> {{ person.date_of_birth }}</div>

    <div class="section-title">Financial Overview</div>
    <div class="data-row"><strong>Total Deposits:</strong> {{ total_deposits }} {{ currency }}</div>
    <div class="data-row"><strong>Total Expenses:</strong> {{ total_expenses }} {{ currency }}</div>

    <div class="section-title">Deposits</div>
    <table>
        <tr>
            <th>Date</th>
            <th>Source</th>
            <th>Amount</th>
        </tr>
        {% for deposit in deposits %}
        <tr>
            <td>{{ deposit.date }}</td>
            <td>{{ deposit.source }} </td>
            <td>{{ deposit.added_funds }} {{ currency }}</td>
        </tr>
        {% endfor %}
    </table>

    <div class="section-title">Daily buy expenses</div>
    <table>
        <tr>
            <th>Date</th>
            <th>Shop</th>
            <th>Product</th>
            <th>Price</th>
        </tr>
        {% for expense in expenses1 %}
        <tr>
            <td>{{ expense.date }}</td>
            <td>{{ expense.shop }}</td>
            <td>{{ expense.product }}</td>
            <td>{{ expense.price }} {{ currency }}</td>
        </tr>
        {% endfor %}
    </table>
    <div class="section-title">Bills</div>
    <table>
        <tr>
            <th>Date</th>
            <th>Fee</th>
            <th>Price</th>
        </tr>
        {% for expense in expenses2 %}
        <tr>
            <td>{{ expense.date }}</td>
            <td>{{ expense.fee }}</td>
            <td>{{ expense.price }} {{ currency }}</td>
        </tr>
        {% endfor %}
    </table>
    <div class="section-title">Random expenses</div>
    <table>
        <tr>
            <th>Date</th>
            <th>For what</th>
            <th>Price</th>
        </tr>
        {% for expense in expenses3 %}
        <tr>
            <td>{{ expense.date }} </td>
            <td>{{ expense.for_what }} </td>
            <td>{{ expense.price }} {{ currency }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
